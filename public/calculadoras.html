<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calculadoras de Investimento - FinancePro</title>
    <link rel="icon" href="img/profit_1838239.png" type="image/png">
    <link href="./output.css" rel="stylesheet">
    <link href="./custom.css" rel="stylesheet">
    <link href="./financepro-style.css" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body class="bg-gradient-to-br from-blue-100 via-gray-100 to-white text-gray-800 min-h-screen p-6">
    <div class="max-w-7xl mx-auto space-y-8">

        <!-- Cabeçalho -->
        <header class="flex justify-between items-center">
            <div class="flex items-center gap-4">
                <a href="/index.html" class="p-2 hover:bg-blue-100 rounded-lg transition-all" title="Voltar ao Dashboard">
                    <i data-lucide="arrow-left" class="w-8 h-8 text-blue-700"></i>
                </a>
                <h1 class="text-5xl font-extrabold text-blue-800 flex items-center gap-3">
                    <i data-lucide="calculator" class="w-8 h-8 text-blue-700"></i> Calculadoras de Investimento
                </h1>
            </div>
            <button onclick="logout()"
                class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg flex items-center gap-2">
                <i data-lucide="log-out" class="w-5 h-5"></i> Sair
            </button>
        </header>

        <!-- Descrição -->
        <div class="bg-white p-6 rounded-xl shadow-lg">
            <p class="text-lg text-gray-700">
                <i data-lucide="info" class="w-5 h-5 inline mr-2 text-blue-600"></i>
                Utilize nossas calculadoras para simular seus investimentos e planejar seu futuro financeiro.
            </p>
        </div>

        <!-- Grid de Calculadoras -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            
            <!-- Card 1: Juros Compostos -->
            <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all cursor-pointer transform hover:scale-105"
                onclick="abrirCalculadora('jurosCompostos')" data-testid="card-juros-compostos">
                <div class="flex items-center gap-3 mb-4">
                    <div class="bg-green-100 p-3 rounded-lg">
                        <i data-lucide="trending-up" class="w-8 h-8 text-green-600"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800">Juros Compostos</h3>
                </div>
                <p class="text-gray-600">Veja quantas vezes o seu dinheiro pode se multiplicar e trabalhar para você.</p>
            </div>

            <!-- Card 2: Juros Simples -->
            <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all cursor-pointer transform hover:scale-105"
                onclick="abrirCalculadora('jurosSimples')" data-testid="card-juros-simples">
                <div class="flex items-center gap-3 mb-4">
                    <div class="bg-blue-100 p-3 rounded-lg">
                        <i data-lucide="bar-chart-2" class="w-8 h-8 text-blue-600"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800">Juros Simples</h3>
                </div>
                <p class="text-gray-600">Veja seu dinheiro crescer a partir do valor inicial, com uma taxa de juros fixa.</p>
            </div>

            <!-- Card 3: Primeiro Milhão -->
            <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all cursor-pointer transform hover:scale-105"
                onclick="abrirCalculadora('primeiroMilhao')" data-testid="card-primeiro-milhao">
                <div class="flex items-center gap-3 mb-4">
                    <div class="bg-yellow-100 p-3 rounded-lg">
                        <i data-lucide="target" class="w-8 h-8 text-yellow-600"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800">Primeiro Milhão</h3>
                </div>
                <p class="text-gray-600">Quer saber quanto precisa investir por mês para alcançar o seu primeiro milhão?</p>
            </div>

            <!-- Card 4: CDI -->
            <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all cursor-pointer transform hover:scale-105"
                onclick="abrirCalculadora('cdi')" data-testid="card-cdi">
                <div class="flex items-center gap-3 mb-4">
                    <div class="bg-purple-100 p-3 rounded-lg">
                        <i data-lucide="percent" class="w-8 h-8 text-purple-600"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800">CDI</h3>
                </div>
                <p class="text-gray-600">Simule seus ganhos de rendimento baseado no índice CDI.</p>
            </div>

            <!-- Card 5: Reserva de Emergência -->
            <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all cursor-pointer transform hover:scale-105"
                onclick="abrirCalculadora('reservaEmergencia')" data-testid="card-reserva-emergencia">
                <div class="flex items-center gap-3 mb-4">
                    <div class="bg-red-100 p-3 rounded-lg">
                        <i data-lucide="shield" class="w-8 h-8 text-red-600"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800">Reserva de Emergência</h3>
                </div>
                <p class="text-gray-600">Simule o valor ideal para uma boa reserva de emergência.</p>
            </div>

            <!-- Card 6: Porcentagem -->
            <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all cursor-pointer transform hover:scale-105"
                onclick="abrirCalculadora('porcentagem')" data-testid="card-porcentagem">
                <div class="flex items-center gap-3 mb-4">
                    <div class="bg-indigo-100 p-3 rounded-lg">
                        <i data-lucide="divide" class="w-8 h-8 text-indigo-600"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800">Porcentagem</h3>
                </div>
                <p class="text-gray-600">Calculadoras poderosas para descomplicar os cálculos de porcentagem.</p>
            </div>

        </div>

        <!-- Modais das Calculadoras -->
        
        <!-- Modal Juros Compostos -->
        <div id="modalJurosCompostos" class="modal-calculadora">
            <div class="modal-content" onclick="event.stopPropagation()">
                <div class="modal-header">
                    <h2 class="text-2xl font-bold flex items-center gap-3">
                        <i data-lucide="trending-up" class="w-7 h-7"></i>
                        Calculadora de Juros Compostos
                    </h2>
                    <button onclick="fecharModal('modalJurosCompostos')" class="modal-close-btn">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="formJurosCompostos" class="space-y-4" onsubmit="calcularJurosCompostos(event)">
                        <div>
                            <label class="block text-sm font-semibold mb-2">Valor Inicial (R$)</label>
                            <input type="number" id="valorInicialCompostos" step="0.01" required
                                class="w-full p-3 border border-gray-300 rounded-lg" placeholder="Ex: 10000">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2">Aporte Mensal (R$)</label>
                            <input type="number" id="aporteMensalCompostos" step="0.01" required
                                class="w-full p-3 border border-gray-300 rounded-lg" placeholder="Ex: 500">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2">Taxa de Juros (% ao ano)</label>
                            <input type="number" id="taxaJurosCompostos" step="0.01" required
                                class="w-full p-3 border border-gray-300 rounded-lg" placeholder="Ex: 10">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2">Período (anos)</label>
                            <input type="number" id="periodoCompostos" required
                                class="w-full p-3 border border-gray-300 rounded-lg" placeholder="Ex: 10">
                        </div>
                        <button type="submit" class="w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-all font-semibold" data-testid="btn-calcular-juros-compostos">
                            <i data-lucide="calculator" class="w-5 h-5 inline mr-2"></i>Calcular
                        </button>
                    </form>
                    <div id="resultadoJurosCompostos" class="resultado-box" style="display:none;">
                        <!-- Resultado será inserido aqui -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal Juros Simples -->
        <div id="modalJurosSimples" class="modal-calculadora">
            <div class="modal-content" onclick="event.stopPropagation()">
                <div class="modal-header">
                    <h2 class="text-2xl font-bold flex items-center gap-3">
                        <i data-lucide="bar-chart-2" class="w-7 h-7"></i>
                        Calculadora de Juros Simples
                    </h2>
                    <button onclick="fecharModal('modalJurosSimples')" class="modal-close-btn">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="formJurosSimples" class="space-y-4" onsubmit="calcularJurosSimples(event)">
                        <div>
                            <label class="block text-sm font-semibold mb-2">Valor Inicial (R$)</label>
                            <input type="number" id="valorInicialSimples" step="0.01" required
                                class="w-full p-3 border border-gray-300 rounded-lg" placeholder="Ex: 10000">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2">Taxa de Juros (% ao ano)</label>
                            <input type="number" id="taxaJurosSimples" step="0.01" required
                                class="w-full p-3 border border-gray-300 rounded-lg" placeholder="Ex: 10">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2">Período (anos)</label>
                            <input type="number" id="periodoSimples" required
                                class="w-full p-3 border border-gray-300 rounded-lg" placeholder="Ex: 10">
                        </div>
                        <button type="submit" class="w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-all font-semibold" data-testid="btn-calcular-juros-simples">
                            <i data-lucide="calculator" class="w-5 h-5 inline mr-2"></i>Calcular
                        </button>
                    </form>
                    <div id="resultadoJurosSimples" class="resultado-box" style="display:none;">
                        <!-- Resultado será inserido aqui -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal Primeiro Milhão -->
        <div id="modalPrimeiroMilhao" class="modal-calculadora">
            <div class="modal-content" onclick="event.stopPropagation()">
                <div class="modal-header">
                    <h2 class="text-2xl font-bold flex items-center gap-3">
                        <i data-lucide="target" class="w-7 h-7"></i>
                        Calculadora Primeiro Milhão
                    </h2>
                    <button onclick="fecharModal('modalPrimeiroMilhao')" class="modal-close-btn">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="formPrimeiroMilhao" class="space-y-4" onsubmit="calcularPrimeiroMilhao(event)">
                        <div>
                            <label class="block text-sm font-semibold mb-2">Valor Inicial (R$)</label>
                            <input type="number" id="valorInicialMilhao" step="0.01" required
                                class="w-full p-3 border border-gray-300 rounded-lg" placeholder="Ex: 5000">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2">Aporte Mensal (R$)</label>
                            <input type="number" id="aporteMensalMilhao" step="0.01" required
                                class="w-full p-3 border border-gray-300 rounded-lg" placeholder="Ex: 1000">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2">Taxa de Juros (% ao ano)</label>
                            <input type="number" id="taxaJurosMilhao" step="0.01" required
                                class="w-full p-3 border border-gray-300 rounded-lg" placeholder="Ex: 10">
                        </div>
                        <button type="submit" class="w-full bg-yellow-600 text-white py-3 rounded-lg hover:bg-yellow-700 transition-all font-semibold" data-testid="btn-calcular-primeiro-milhao">
                            <i data-lucide="calculator" class="w-5 h-5 inline mr-2"></i>Calcular
                        </button>
                    </form>
                    <div id="resultadoPrimeiroMilhao" class="resultado-box" style="display:none;">
                        <!-- Resultado será inserido aqui -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal CDI -->
        <div id="modalCDI" class="modal-calculadora">
            <div class="modal-content" onclick="event.stopPropagation()">
                <div class="modal-header">
                    <h2 class="text-2xl font-bold flex items-center gap-3">
                        <i data-lucide="percent" class="w-7 h-7"></i>
                        Calculadora de CDI
                    </h2>
                    <button onclick="fecharModal('modalCDI')" class="modal-close-btn">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="formCDI" class="space-y-4" onsubmit="calcularCDI(event)">
                        <div>
                            <label class="block text-sm font-semibold mb-2">Valor a Investir (R$)</label>
                            <input type="number" id="valorInvestidoCDI" step="0.01" required
                                class="w-full p-3 border border-gray-300 rounded-lg" placeholder="Ex: 10000">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2">Percentual do CDI (%)</label>
                            <input type="number" id="percentualCDI" step="0.01" required value="100"
                                class="w-full p-3 border border-gray-300 rounded-lg" placeholder="Ex: 100">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2">Taxa CDI ao ano (%)</label>
                            <input type="number" id="taxaCDI" step="0.01" required value="13.75"
                                class="w-full p-3 border border-gray-300 rounded-lg" placeholder="Ex: 13.75">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2">Período (meses)</label>
                            <input type="number" id="periodoCDI" required
                                class="w-full p-3 border border-gray-300 rounded-lg" placeholder="Ex: 12">
                        </div>
                        <button type="submit" class="w-full bg-purple-600 text-white py-3 rounded-lg hover:bg-purple-700 transition-all font-semibold" data-testid="btn-calcular-cdi">
                            <i data-lucide="calculator" class="w-5 h-5 inline mr-2"></i>Calcular
                        </button>
                    </form>
                    <div id="resultadoCDI" class="resultado-box" style="display:none;">
                        <!-- Resultado será inserido aqui -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal Reserva de Emergência -->
        <div id="modalReservaEmergencia" class="modal-calculadora">
            <div class="modal-content" onclick="event.stopPropagation()">
                <div class="modal-header">
                    <h2 class="text-2xl font-bold flex items-center gap-3">
                        <i data-lucide="shield" class="w-7 h-7"></i>
                        Calculadora de Reserva de Emergência
                    </h2>
                    <button onclick="fecharModal('modalReservaEmergencia')" class="modal-close-btn">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="formReservaEmergencia" class="space-y-4" onsubmit="calcularReservaEmergencia(event)">
                        <div>
                            <label class="block text-sm font-semibold mb-2">Despesas Mensais (R$)</label>
                            <input type="number" id="despesasMensais" step="0.01" required
                                class="w-full p-3 border border-gray-300 rounded-lg" placeholder="Ex: 3000">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2">Meses de Reserva</label>
                            <input type="number" id="mesesReserva" required value="6"
                                class="w-full p-3 border border-gray-300 rounded-lg" placeholder="Ex: 6">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2">Valor Já Guardado (R$)</label>
                            <input type="number" id="valorJaGuardado" step="0.01" value="0"
                                class="w-full p-3 border border-gray-300 rounded-lg" placeholder="Ex: 5000">
                        </div>
                        <button type="submit" class="w-full bg-red-600 text-white py-3 rounded-lg hover:bg-red-700 transition-all font-semibold" data-testid="btn-calcular-reserva-emergencia">
                            <i data-lucide="calculator" class="w-5 h-5 inline mr-2"></i>Calcular
                        </button>
                    </form>
                    <div id="resultadoReservaEmergencia" class="resultado-box" style="display:none;">
                        <!-- Resultado será inserido aqui -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal Porcentagem -->
        <div id="modalPorcentagem" class="modal-calculadora">
            <div class="modal-content" onclick="event.stopPropagation()">
                <div class="modal-header">
                    <h2 class="text-2xl font-bold flex items-center gap-3">
                        <i data-lucide="divide" class="w-7 h-7"></i>
                        Calculadora de Porcentagem
                    </h2>
                    <button onclick="fecharModal('modalPorcentagem')" class="modal-close-btn">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="space-y-6">
                        <!-- Calcular X% de Y -->
                        <div class="bg-blue-50 p-4 rounded-lg">
                            <h3 class="font-bold text-lg mb-3">Quanto é X% de Y?</h3>
                            <form id="formPorcentagem1" class="space-y-3" onsubmit="calcularPorcentagem1(event)">
                                <div class="grid grid-cols-2 gap-3">
                                    <input type="number" id="percentualValor" step="0.01" required
                                        class="p-3 border border-gray-300 rounded-lg" placeholder="% (Ex: 10)">
                                    <input type="number" id="valorTotal" step="0.01" required
                                        class="p-3 border border-gray-300 rounded-lg" placeholder="de R$ (Ex: 1000)">
                                </div>
                                <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-all" data-testid="btn-calcular-porcentagem-1">
                                    Calcular
                                </button>
                            </form>
                            <div id="resultadoPorcentagem1" class="mt-3"></div>
                        </div>

                        <!-- X é quanto % de Y -->
                        <div class="bg-green-50 p-4 rounded-lg">
                            <h3 class="font-bold text-lg mb-3">X é quanto % de Y?</h3>
                            <form id="formPorcentagem2" class="space-y-3" onsubmit="calcularPorcentagem2(event)">
                                <div class="grid grid-cols-2 gap-3">
                                    <input type="number" id="valorParcial" step="0.01" required
                                        class="p-3 border border-gray-300 rounded-lg" placeholder="R$ (Ex: 200)">
                                    <input type="number" id="valorTotalPercent" step="0.01" required
                                        class="p-3 border border-gray-300 rounded-lg" placeholder="de R$ (Ex: 1000)">
                                </div>
                                <button type="submit" class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-all" data-testid="btn-calcular-porcentagem-2">
                                    Calcular
                                </button>
                            </form>
                            <div id="resultadoPorcentagem2" class="mt-3"></div>
                        </div>

                        <!-- Variação Percentual -->
                        <div class="bg-yellow-50 p-4 rounded-lg">
                            <h3 class="font-bold text-lg mb-3">Variação Percentual</h3>
                            <form id="formPorcentagem3" class="space-y-3" onsubmit="calcularPorcentagem3(event)">
                                <div class="grid grid-cols-2 gap-3">
                                    <input type="number" id="valorInicial" step="0.01" required
                                        class="p-3 border border-gray-300 rounded-lg" placeholder="Valor Inicial (Ex: 1000)">
                                    <input type="number" id="valorFinal" step="0.01" required
                                        class="p-3 border border-gray-300 rounded-lg" placeholder="Valor Final (Ex: 1200)">
                                </div>
                                <button type="submit" class="w-full bg-yellow-600 text-white py-2 rounded-lg hover:bg-yellow-700 transition-all" data-testid="btn-calcular-porcentagem-3">
                                    Calcular
                                </button>
                            </form>
                            <div id="resultadoPorcentagem3" class="mt-3"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script>
        // Verificar autenticação
        if (!localStorage.getItem("token")) {
            window.location.href = "/login.html";
        }

        function logout() {
            localStorage.removeItem("token");
            location.href = "/login.html";
        }

        // Inicializar ícones
        document.addEventListener("DOMContentLoaded", () => {
            lucide.createIcons();
        });
    </script>

    <script src="calculadoras.js"></script>

</body>

</html>